<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Inventario - Grupo Armenta</title>
<style>
  body { font-family: Arial, sans-serif; margin: 20px; }
  input { padding: 8px; width: 300px; }
  table { border-collapse: collapse; margin-top: 20px; width: 100%; }
  th, td { border: 1px solid #ccc; padding: 8px; }
  th { background: #f4f4f4; }
</style>
</head>
<body>

<h2>Inventario Grupo Armenta</h2>
<input type="text" id="buscar" placeholder="Escribe el nombre del empleado...">

<table id="tabla">
  <thead>
    <tr>
      <th>Empleado</th>
      <th>Area</th>
      <th>Oficina</th>
      <th>Marca</th>
      <th>Modelo</th>
      <th>Serie</th>
      <th>Procesador</th>
      <th>Tipo</th>
      <th>Monitor</th>
      <th>Marca</th>
      <th>Modelo</th>
      <th>Serie Monitor</th>
    </tr>
  </thead>
  <tbody></tbody>
</table>

<script>
const SHEET_ID = "1KdupeI8b4ePrCIhAkzP8ZhpdqXFZiPT1Q4bbhC3pRq0";
const GID = "1322760750"; // cambia al GID correcto
const URL = `https://docs.google.com/spreadsheets/d/${SHEET_ID}/export?format=csv&gid=${GID}`;

let filas = []; // guardaremos los datos aquí después de cargar CSV
const tbody = document.querySelector("#tabla tbody");
const inputBuscar = document.getElementById("buscar");

// Al cargar la página, cargamos el CSV pero no mostramos nada
fetch(URL)
  .then(res => res.text())
  .then(csv => {
    filas = csv.trim().split("\n").map(line => line.split(","));
    // filas[0] = encabezados
  })
  .catch(err => console.error("Error cargando CSV:", err));

// Función para mostrar filas filtradas
function mostrarFilas(filtro) {
  tbody.innerHTML = ""; // limpio tabla
  if (!filtro) return; // si filtro vacío, no mostrar nada

  const filtroLower = filtro.toLowerCase();

  filas.slice(1).forEach(fila => {
    // asumimos columna 0 = empleado, ajustar si no es así
    if (fila[0].toLowerCase().includes(filtroLower)) {
      const tr = document.createElement("tr");
      fila.forEach(col => {
        const td = document.createElement("td");
        td.textContent = col;
        tr.appendChild(td);
      });
      tbody.appendChild(tr);
    }
  });
}

// Evento input para filtrar en tiempo real
inputBuscar.addEventListener("input", e => {
  mostrarFilas(e.target.value);
});

</script>

</body>
</html>




